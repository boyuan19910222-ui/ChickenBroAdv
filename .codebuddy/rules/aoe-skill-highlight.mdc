---
description: AOE æŠ€èƒ½çš„ä¸‰é˜¶æ®µ UI é«˜äº®æ–¹æ¡ˆè§„èŒƒï¼Œé€‚ç”¨äºæ‰€æœ‰éœ€è¦é€‰ç›®æ ‡çš„ AOE ç±»æŠ€èƒ½å®ç°
alwaysApply: false
enabled: true
updatedAt: 2026-02-17T14:14:42.878Z
provider: 
---

# AOE æŠ€èƒ½ UI é«˜äº®æ–¹æ¡ˆè§„èŒƒ

æ‰€æœ‰éœ€è¦é€‰ç›®æ ‡çš„ AOE ç±»æŠ€èƒ½ï¼ˆå¦‚ `cleave_3` çƒˆç„°é£æš´ï¼‰ç»Ÿä¸€éµå¾ªä»¥ä¸‹ UI æ–¹æ¡ˆã€‚

## é¢œè‰²ç¼–ç 

| é«˜äº®ç±»å‹ | é¢œè‰² | CSS ç±»å |
|---------|------|---------|
| ä¸»ç›®æ ‡ï¼ˆé€‰ä¸­/hoverï¼‰ | `#ff4444` çº¢è‰² | `planned-primary-target` |
| æº…å°„ç›®æ ‡ | `#ff8c00` æ©™è‰² | `target-splash-preview` / `target-highlight-splash` |
| å¯é€‰ç›®æ ‡ | `#44ffaa` äº®ç»¿ | `target-selectable` |
| å‹æ–¹è¡ŒåŠ¨ | `#44ff88` ç»¿è‰² | `acting-highlight-green` |
| æ•Œæ–¹è¡ŒåŠ¨ | `#d4a017` æ·±é»„ | `acting-highlight-darkyellow` |

## ä¸‰é˜¶æ®µé«˜äº®æµç¨‹

### é˜¶æ®µä¸€ï¼šç›®æ ‡é€‰æ‹©ï¼ˆhover é¢„è§ˆï¼‰
- é¼ æ ‡**æ‚¬åœ**æ•Œæ–¹å•ä½æ—¶å³åˆ»æ˜¾ç¤ºæº…å°„é¢„è§ˆï¼Œæ— éœ€ç‚¹å‡»
- é€šè¿‡ `hoverEnemyId` ref è·Ÿè¸ªæ‚¬åœç›®æ ‡
- `cleavePreviewSplashIds` computed åŠ¨æ€è®¡ç®—æº…å°„èŒƒå›´ï¼ˆä¼˜å…ˆç”¨ `hoverEnemyId`ï¼Œå…¶æ¬¡ `selectedTargetId`ï¼‰
- `cleavePreviewPrimaryId` computed æ ‡è¯†é¢„è§ˆä¸»ç›®æ ‡
- ä¸»ç›®æ ‡çº¢è‰²è„‰å†²ï¼Œæº…å°„ç›®æ ‡æ©™è‰²è„‰å†²ï¼Œé¼ æ ‡ç§»å¼€åæ¶ˆå¤±

### é˜¶æ®µäºŒï¼šç¡®è®¤å¼¹çª—
- ç‚¹å‡»ç›®æ ‡åå¼¹å‡º `TargetConfirmDialog`ï¼Œæ˜¾ç¤º "ğŸ”¥ æ³¢åŠ: xxxã€xxx"
- `pendingSkillId` åœ¨ cleave ç±»æŠ€èƒ½ç¡®è®¤å‰**ä¸æ¸…ç©º**ï¼Œä¿æŒæº…å°„é¢„è§ˆå¯è§

### é˜¶æ®µä¸‰ï¼šè§„åˆ’å®Œæˆï¼ˆç­‰å¾…ç»“ç®—ï¼‰
- `plannedSplashIds` / `plannedPrimaryTargetId` ref æŒç»­ä¿å­˜é«˜äº®çŠ¶æ€
- åœ¨ç¡®è®¤è¡ŒåŠ¨ï¼ˆ`onConfirmAction`ï¼‰æ—¶è®¡ç®—å¹¶ä¿å­˜
- åœ¨ç»“ç®—å¼€å§‹ / æ–°å›åˆ / è§„åˆ’é˜¶æ®µé‡ç½®æ—¶æ¸…ç©º

### ç»“ç®—é˜¶æ®µ
- é€šè¿‡ `dungeon:unitTargeting` äº‹ä»¶çš„ `splashTargetIds` å­—æ®µä¼ é€’
- ä¸»ç›®æ ‡çº¢è‰²é—ªçƒï¼ˆ`target-highlight-red`ï¼‰ï¼Œæº…å°„ç›®æ ‡æ©™è‰²é—ªçƒï¼ˆ`target-highlight-splash`ï¼‰

## æ–°å¢ AOE æŠ€èƒ½æ‰©å±•æ­¥éª¤

1. **æ•°æ®å±‚** â€” `GameData.js` å®šä¹‰æŠ€èƒ½ï¼Œè®¾ç½® `targetType` ä¸ºæ–°ç±»å‹
2. **ä½ç½®è®¡ç®—** â€” `PositioningSystem` æ–°å¢å¯¹åº”çš„ç›®æ ‡è·å–æ–¹æ³•
3. **ç›®æ ‡è§£æ** â€” `DungeonCombatSystem.resolveTargets` å’Œ `SkillExecutor.resolveTargets` æ–°å¢åˆ†æ”¯
4. **UI å¤ç”¨** â€” å¤ç”¨ä¸‰é˜¶æ®µé«˜äº®æ¶æ„ï¼Œä¸»ç›®æ ‡çº¢è‰²ã€æº…å°„æ©™è‰²
5. **ç¡®è®¤å¼¹çª—** â€” `TargetConfirmDialog` è‡ªåŠ¨æ˜¾ç¤ºæ³¢åŠç›®æ ‡ä¿¡æ¯