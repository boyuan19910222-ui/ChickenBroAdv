# 设计文档：术士技能与天赋完善

## 概述

本文档详细描述术士职业的技能和天赋扩展设计，使其达到与其他完整职业相当的深度。

## 设计原则

1. **一致性**：技能数据结构遵循现有 `GameData.js` 规范
2. **平衡性**：新技能数值参考同级别其他职业技能
3. **职业特色**：突出术士的DoT、恶魔、暗影魔法特色
4. **天赋联动**：天赋解锁技能需在天赋树中有明确解锁节点

## 一、新增技能设计

### 1.1 天赋解锁技能

#### 痛苦系（Affliction）

| 技能ID | 名称 | 解锁条件 | 描述 |
|--------|------|----------|------|
| siphonLife | 生命虹吸 | T3天赋 | DOT+生命转化 |
| unstableAffliction | 痛苦无常 | T4天赋 | 反驱散DOT |
| amplifyCurse | 放大诅咒 | T2天赋 | 诅咒效果提升 |

#### 恶魔学识系（Demonology）

| 技能ID | 名称 | 解锁条件 | 描述 |
|--------|------|----------|------|
| darkPact | 黑暗契约 | T4天赋 | 从宠物抽取法力 |
| felDomination | 恶魔支配 | T2天赋 | 瞬发召唤 |
| soulLink | 灵魂链接 | T4天赋 | 伤害分担 |

#### 毁灭系（Destruction）

| 技能ID | 名称 | 解锁条件 | 描述 |
|--------|------|----------|------|
| conflagrate | 燃尽 | T4天赋 | 消耗献祭造成伤害 |
| shadowburn | 暗影灼烧 | T3天赋 | 斩杀技能 |
| backlash | 反冲 | T3天赋 | 受击瞬发技能 |

### 1.2 T5终极天赋

| 技能ID | 名称 | 天赋树 | 描述 |
|--------|------|--------|------|
| haunt | 鬼影缠身 | 痛苦 | 伤害+DOT增益 |
| metamorphosis | 恶魔变形 | 恶魔学识 | 恶魔形态 |
| chaosBolt | 混乱之箭 | 毁灭 | 穿透护盾 |

### 1.3 其他核心技能

| 技能ID | 名称 | 解锁等级 | 描述 |
|--------|------|----------|------|
| curseOfWeakness | 虚弱诅咒 | 10 | 降低攻击力 |
| curseOfElements | 元素诅咒 | 16 | 法术易伤 |
| demonArmor | 恶魔护甲 | 20 | 护甲+回复buff |
| soulFire | 灵魂之火 | 36 | 高伤害火系法术 |
| rainOfFire | 火焰之雨 | 28 | AOE火焰伤害 |

## 二、天赋树扩展设计

### 2.1 痛苦树（Affliction）5层设计

```
T1: 压制(被动) | 强化腐蚀术(被动)
T2: 强化痛苦诅咒(被动) | 放大诅咒(解锁技能)
T3: 生命虹吸(解锁技能) | 痛苦无常(解锁技能)
T4: 黑暗契约(解锁技能) | 暗影掌握(被动)
T5: 鬼影缠身(终极技能)
```

### 2.2 恶魔学识树（Demonology）5层设计

```
T1: 强化治疗石(被动) | 强化小鬼(被动)
T2: 恶魔之拥(被动) | 恶魔支配(解锁技能)
T3: 恶魔学大师(被动) | 灵魂链接(解锁技能)
T4: 恶魔知识(被动) | 召唤大师(被动)
T5: 恶魔变形(终极技能)
```

### 2.3 毁灭树（Destruction）5层设计

```
T1: 强化暗影箭(被动) | 大灾变(被动)
T2: 祸害(被动) | 破坏(被动)
T3: 毁灭(暴伤) | 暗影灼烧(解锁技能) | 反冲(解锁技能)
T4: 燃尽(解锁技能) | 毁灭延伸(被动)
T5: 混乱之箭(终极技能)
```

## 三、技能数据结构示例

```javascript
soulLink: {
    id: 'soulLink',
    name: '灵魂链接',
    emoji: '🔗',
    description: '与恶魔建立灵魂链接，受到的伤害有30%转移给恶魔',
    unlockLevel: 40,
    category: 'ultimate',
    talentUnlock: true,
    skillType: 'buff',
    damageType: null,
    targetType: 'self',
    range: 'melee',
    resourceCost: null,
    actionPoints: 1,
    cooldown: 0,
    damage: null,
    heal: null,
    effects: [{ type: 'passive', name: 'soulLink', damageSplit: 0.3, toPet: true }],
    comboPoints: null,
    generatesResource: null,
    conditions: { requiresTalent: 'soulLink', requiresPet: true }
}
```

## 四、数值平衡参考

| 指标 | 参考值 | 来源 |
|------|--------|------|
| T5技能基础伤害 | 80-120 | 德鲁伊星落、战士致死打击 |
| T5技能冷却 | 5-8回合 | 同级别终极技能 |
| DOT伤害/回合 | 10-25 | 腐蚀术、痛苦诅咒 |
| 斩杀技能阈值 | 20%HP | 盗贼剔骨、战士斩杀 |
| AOE技能范围 | 全体敌人 | 法师暴风雪、火焰之雨 |

## 五、实现优先级

1. **P0 必须完成**：T5终极天赋技能定义
2. **P0 必须完成**：天赋树扩展至5层
3. **P1 高优先级**：天赋解锁技能定义
4. **P2 中优先级**：其他核心技能定义
5. **P3 低优先级**：技能动画和音效资源
