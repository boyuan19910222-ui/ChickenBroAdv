## 新增需求

### 需求: 行动点分配
系统应为每个单位每回合分配固定的行动点数。

#### 场景: 回合开始获得行动点
- **给定** 一个单位的回合开始
- **当** 初始化该单位的回合时
- **那么** 该单位获得3点行动点

#### 场景: 行动点不累积
- **给定** 一个单位上回合剩余1点行动点
- **当** 新回合开始时
- **那么** 该单位的行动点重置为3点（不累积）

### 需求: 技能消耗行动点
系统应根据技能类型消耗不同数量的行动点。

#### 场景: 强力技能消耗
- **给定** 一个单位有3点行动点
- **当** 使用强力技能（如治疗祷言、火球术）时
- **那么** 消耗3点行动点
- **并且** 剩余0点行动点

#### 场景: 普通技能消耗
- **给定** 一个单位有3点行动点
- **当** 使用普通技能（如致死打击、寒冰箭）时
- **那么** 消耗2点行动点
- **并且** 剩余1点行动点

#### 场景: 快速动作消耗
- **给定** 一个单位有3点行动点
- **当** 使用快速动作（如普通攻击、喝药水）时
- **那么** 消耗1点行动点
- **并且** 剩余2点行动点

#### 场景: 防御姿态
- **给定** 一个单位有任意行动点
- **当** 选择防御姿态时
- **那么** 消耗0点行动点
- **并且** 结束当前回合
- **并且** 获得防御增益直到下回合

### 需求: 行动点验证
系统应在使用技能前验证行动点是否足够。

#### 场景: 行动点不足
- **给定** 一个单位剩余1点行动点
- **当** 尝试使用消耗2点的技能时
- **那么** 系统阻止技能使用
- **并且** 显示"行动点不足"提示

#### 场景: 多次行动
- **给定** 一个单位有3点行动点
- **当** 使用1点消耗的普通攻击后
- **那么** 剩余2点行动点
- **并且** 可以继续选择行动

### 需求: 回合结束条件
系统应在特定条件下自动结束单位回合。

#### 场景: 行动点耗尽
- **给定** 一个单位行动点为0
- **当** 检查回合状态时
- **那么** 自动结束该单位回合

#### 场景: 手动结束回合
- **给定** 一个单位还有剩余行动点
- **当** 玩家选择"结束回合"时
- **那么** 放弃剩余行动点
- **并且** 结束该单位回合

---

## 数据结构

### 行动点配置
```javascript
const ACTION_POINT_CONFIG = {
  max_points: 3,           // 每回合最大行动点
  carry_over: false,       // 是否累积到下回合
};

const ACTION_COST = {
  // 技能类型 -> 消耗点数
  powerful: 3,    // 强力技能（大招）
  normal: 2,      // 普通技能
  quick: 1,       // 快速动作
  free: 0,        // 免费动作（防御）
};
```

### 技能行动点消耗配置示例
```javascript
const SKILL_ACTION_COSTS = {
  // 战士
  heroic_strike: 1,      // 英勇打击 - 快速
  mortal_strike: 2,      // 致死打击 - 普通
  shield_wall: 3,        // 盾墙 - 强力
  
  // 法师
  fireball: 2,           // 火球术 - 普通
  pyroblast: 3,          // 炎爆术 - 强力
  fire_blast: 1,         // 火焰冲击 - 快速
  
  // 牧师
  heal: 2,               // 治疗术 - 普通
  greater_heal: 3,       // 强效治疗 - 强力
  renew: 1,              // 恢复 - 快速
  
  // 通用
  basic_attack: 1,       // 普通攻击 - 快速
  use_potion: 1,         // 使用药水 - 快速
  defend: 0,             // 防御姿态 - 免费（结束回合）
};
```

### 单位行动点状态
```javascript
const unitActionState = {
  unitId: 'player_1',
  currentPoints: 3,
  maxPoints: 3,
  actionsThisTurn: [],   // 本回合已执行的动作记录
};
```
