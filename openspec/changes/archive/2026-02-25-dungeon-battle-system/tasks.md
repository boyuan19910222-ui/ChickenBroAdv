## 1. 站位系统

- [x] 1.1 创建 src/systems/PositioningSystem.js 文件
- [x] 1.2 实现战场位置数据结构（我方5位，敌方5位）
- [x] 1.3 实现空位管理（阵亡保留位置）
- [x] 1.4 实现逻辑位置计算（跳过阵亡单位）
- [x] 1.5 实现近战射程检测（混合模式，最大物理距离）
- [x] 1.6 实现目标选择验证方法

## 2. 速度与行动顺序系统

- [x] 2.1 在 GameData.js 中添加职业速度配置
- [x] 2.2 在 GameData.js 中添加敌人速度配置
- [x] 2.3 创建 src/systems/TurnOrderSystem.js 文件
- [x] 2.4 实现速度排序算法
- [x] 2.5 实现惊喜机制（随机打乱顺序）
- [x] 2.6 实现完全交替回合结构

## 3. 行动点系统

- [x] 3.1 创建 src/systems/ActionPointSystem.js 文件
- [x] 3.2 定义行动点常量（每回合3点）
- [x] 3.3 为所有技能配置行动点消耗
- [x] 3.4 实现行动点消耗验证
- [x] 3.5 实现回合开始行动点重置
- [x] 3.6 更新技能使用逻辑集成行动点检查

## 4. 仇恨系统

- [x] 4.1 创建 src/systems/ThreatSystem.js 文件
- [x] 4.2 实现仇恨值数据结构（每个敌人对每个玩家）
- [x] 4.3 实现伤害仇恨计算（系数1.0）
- [x] 4.4 实现治疗仇恨计算（系数0.5）
- [x] 4.5 实现坦克技能额外仇恨（系数3.0）
- [x] 4.6 实现嘲讽技能（强制锁定2回合）
- [x] 4.7 实现仇恨目标选择逻辑

## 5. BOSS阶段系统

- [x] 5.1 创建 src/systems/BossPhaseSystem.js 文件
- [x] 5.2 定义BOSS阶段数据结构
- [x] 5.3 实现血量阈值检测（70%/40%触发）
- [x] 5.4 实现阶段转换事件触发
- [x] 5.5 实现阶段特定技能解锁
- [x] 5.6 实现BOSS多次行动机制（2-3次/回合）

## 6. BOSS狂暴系统

- [x] 6.1 在 BossPhaseSystem.js 中添加狂暴计时器
- [x] 6.2 实现15回合狂暴触发
- [x] 6.3 实现狂暴效果：伤害翻倍
- [x] 6.4 实现狂暴效果：每回合全体AOE
- [x] 6.5 添加狂暴倒计时UI提示

## 7. 技能预告系统

- [x] 7.1 创建 src/systems/SkillTelegraphSystem.js 文件
- [x] 7.2 定义可预告技能标记
- [x] 7.3 实现技能蓄力状态
- [x] 7.4 实现预告消息显示
- [x] 7.5 实现蓄力回合后技能释放

## 8. 队伍编成系统

- [x] 8.1 创建 src/systems/PartyFormationSystem.js 文件
- [x] 8.2 定义默认队伍模板（坦克+近战+远程+远程+治疗）
- [x] 8.3 实现职业→定位映射
- [x] 8.4 实现定位→站位映射
- [x] 8.5 实现玩家动态替换AI逻辑
- [x] 8.6 实现混合职业定位判断（按天赋）

## 9. 宠物战斗系统

- [x] 9.1 创建 src/systems/PetCombatSystem.js 文件
- [x] 9.2 实现宠物附属单位数据结构
- [x] 9.3 实现宠物跟随主人位置
- [x] 9.4 实现宠物攻击目标（跟随主人）
- [x] 9.5 实现宠物混合行动（技能触发+自动攻击）
- [x] 9.6 实现宠物独立HP和死亡/复活

## 10. 测试副本：哀嚎洞穴

- [x] 10.1 创建 src/data/dungeons/WailingCaverns.js 文件
- [x] 10.2 定义副本基础信息（等级要求、难度）
- [x] 10.3 定义第一波小怪配置（蝙蝠+狂热者+毒蛇+迅猛龙，5个敌人）
- [x] 10.4 定义瑟芬迪斯BOSS配置
- [x] 10.5 实现瑟芬迪斯阶段1技能（毒液喷射、尾巴横扫）
- [x] 10.6 实现瑟芬迪斯阶段2技能（缠绕、召唤触手藤）
- [x] 10.7 实现瑟芬迪斯阶段3技能（剧毒爆发、强化）
- [x] 10.8 定义触手藤敌人配置

## 11. 战斗UI更新

- [x] 11.1 更新战斗界面显示5位置站位
- [x] 11.2 添加行动点显示组件
- [x] 11.3 添加仇恨值显示（坦克玩家可见）
- [x] 11.4 添加BOSS阶段指示器
- [x] 11.5 添加狂暴倒计时显示
- [x] 11.6 添加技能预告警告动画
- [x] 11.7 添加回合顺序预览条

## 12. 战斗核心集成

- [x] 12.1 在 CombatSystem.js 中集成站位系统
- [x] 12.2 在 CombatSystem.js 中集成行动点系统
- [x] 12.3 在 CombatSystem.js 中集成回合顺序系统
- [x] 12.4 在 CombatSystem.js 中集成仇恨系统
- [x] 12.5 在 CombatSystem.js 中集成BOSS阶段系统
- [x] 12.6 在 CombatSystem.js 中集成宠物系统
- [x] 12.7 实现副本战斗入口和流程控制
