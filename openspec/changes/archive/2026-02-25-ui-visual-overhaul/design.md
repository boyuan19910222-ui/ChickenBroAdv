## Context

当前 UI 视觉层现状：
- 字体：Google Fonts CDN 加载 `Press Start 2P`（仅英文像素风格，中文 fallback 为系统 monospace）
- 颜色：`variables.css` 定义了金+棕+绿调色板，但 200+ 处硬编码颜色值散落在 17 个 .vue 文件中
- 字号：192 处 `font-size` 全为固定 px，范围 5-14px，像素字体下视觉偏小
- 布局：三栏 Grid（240px / 1fr / 260px），组件间距 4-6px，留白感重
- 职业色：完全缺失，无任何职业→颜色映射
- 资源依赖：无本地字体文件，无图片资源，`src/assets/` 目录不存在

用户已确认的决策：字体全换方舟像素字体、WoW 原版冷色调、底部 Tab 移动端方案（Phase 3）、Emoji 后续替换（Phase 4）。

## Goals / Non-Goals

**Goals:**
- 建立完整的 CSS 设计令牌系统（字体、字号、颜色、间距）
- 引入方舟像素字体作为唯一字体，移除外部 CDN 依赖
- 将面板配色从暖棕调改为 WoW 原版冷色调（深蓝黑）
- 添加 WoW 官方 9 职业颜色并应用到所有相关组件
- 放大字号和组件尺寸，改善可读性和视觉比例
- 将散落的硬编码颜色值统一为 CSS 变量引用

**Non-Goals:**
- 移动端响应式适配（Phase 3 单独变更）
- Emoji 替换为像素图标（Phase 4，等用户提供素材）
- 组件功能逻辑改动（纯视觉层重构）
- 动画系统重做（保持现有动画，仅调整颜色引用）

## Decisions

### D1: 字体策略 — 全面替换为方舟像素字体

**选择**: 使用 `ark-pixel-12px-monospaced-zh_cn.otf` 作为唯一字体，移除 Press Start 2P。

**替代方案**:
- 双字体混排（方舟中文 + Press Start 2P 英文）：像素网格不同（12px vs 8px），混排视觉不协调
- 保留 Press Start 2P 纯英文场景：增加维护复杂度，风格不统一

**理由**: 方舟像素字体内置完整拉丁字符集，中英文统一 12px 网格，等宽特性适合游戏 UI。移除 CDN 依赖后离线可用，加载更可控。

**实现**: `@font-face` 声明在 `base.css`，引用 `src/assets/fonts/` 下的 .otf 文件。字体文件从 `fonts/` 移到 `src/assets/fonts/`。

### D2: 字号体系 — 12px 整数倍约束

**选择**: 4 档字号体系，全部为 12 的整数倍。

| CSS 变量 | 值 | 用途 |
|----------|-----|------|
| `--fs-xs` | 12px | 时间戳、次要标签、日志 |
| `--fs-sm` | 12px | 按钮、标签、正文（与 xs 相同，因为 12px 是最小可用值） |
| `--fs-base` | 12px | 默认正文 |
| `--fs-md` | 24px | 面板标题、重要信息 |
| `--fs-lg` | 36px | 区域标题、页面标题 |
| `--fs-xl` | 48px | Logo、大标题 |

**理由**: 方舟像素字体 UPM=1200，字号必须是 12 的整数倍才能精确栅格化。非整数倍会导致像素模糊。当前 5-8px 的字号全部不可用，最小 12px 反而解决了"字太小"的问题。

**注意**: xs/sm/base 都是 12px，通过 `font-weight`、`opacity`、`color` 来区分层级而非字号。

### D3: 配色方案 — WoW 原版冷色调

**选择**: 面板底色从深棕（#2C1810）改为深蓝黑（#0D1B2A → #1B2838），保留金色装饰。

| CSS 变量 | 旧值 | 新值 | 说明 |
|----------|------|------|------|
| `--bg-primary` | #2C1810 (深棕) | #0D1B2A (深蓝黑) | 面板主背景 |
| `--bg-secondary` | #3D2418 (中棕) | #1B2838 (蓝灰) | 面板次背景 |
| `--bg-tertiary` | #4F3020 (浅棕) | #243447 (灰蓝) | 悬停/选中态 |
| `--bg-surface` | (无) | #152232 (深蓝) | 输入框/列表底色 |
| `--border-primary` | #8B7355 (棕) | #3D5A80 (蓝灰边框) | 普通边框 |
| `--border-accent` | (无) | #C9A227 (金色) | 强调边框 |
| `--primary-gold` | #FFD700 | #FFD700 | 保持不变 |
| `--secondary-gold` | #C9A227 | #C9A227 | 保持不变 |

**替代方案**:
- 保留暖棕色调：用户明确要求 WoW 原版
- 完全复制 WoW UI 截图色值：过于死板，不适合像素风格

### D4: 职业颜色系统

**选择**: 在 `variables.css` 中定义 9 个 WoW 官方职业色 CSS 变量，同时在 `GameData.js` 各职业定义中添加 `color` 字段。

```
--class-warrior:   #C79C6E   (棕褐)
--class-paladin:   #F58CBA   (粉红)
--class-hunter:    #ABD473   (绿色)
--class-rogue:     #FFF569   (黄色)
--class-priest:    #FFFFFF   (白色)
--class-shaman:    #0070DE   (蓝色)
--class-mage:      #69CCF0   (淡蓝)
--class-warlock:   #9482C9   (紫色)
--class-druid:     #FF7D0A   (橙色)
```

**应用范围**: 角色名称、CharacterPanel 边框/标题、CombatantCard 名字颜色、CreateCharacterView 职业卡片边框、战斗日志中的角色名。

### D5: 间距与尺寸调整

**选择**: 增大面板和组件尺寸。

| 元素 | 旧值 | 新值 |
|------|------|------|
| 左侧面板宽度 | 240px | 280px |
| 右侧面板宽度 | 260px | 300px |
| 面板内边距 | 6-8px | 12px |
| 组件间距 | 4-6px | 8-12px |
| 按钮最小高度 | ~24px | 36px |
| 按钮内边距 | 4px 8px | 8px 16px |

### D6: 颜色统一化策略 — 渐进替换

**选择**: 不一次性重写所有组件，而是：
1. 先在 `variables.css` 定义完整的 CSS 变量集合
2. 在 `pixel-ui.css` 中统一全局组件样式引用
3. 逐组件替换 `<style>` 中的硬编码值

**理由**: 17 个 .vue 文件中 200+ 处硬编码颜色，一次性改完风险高。先建好变量体系，再逐步迁移。

## Risks / Trade-offs

- **[字体体积]** .otf 文件 3.2MB，首次加载较慢 → 后续可转 .woff2（~1-2MB）；当前先用 .otf 快速上线
- **[字号跳跃大]** 12px 到 24px 跳跃过大，中间无过渡 → 通过颜色/透明度/粗细区分文字层级
- **[大规模样式改动]** 涉及所有 .vue 文件 → 分批改（先全局样式，再逐组件），每批构建验证
- **[视觉回归]** 改配色可能导致某些组件对比度不足 → 每个组件改完后目视检查
- **[中文字符覆盖]** 方舟字体可能缺少某些生僻字 → 设置 fallback 到系统无衬线字体
