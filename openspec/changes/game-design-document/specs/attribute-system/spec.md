## 新增需求

### 需求: 五大基础属性
系统应实现魔兽世界经典旧世的五大基础属性：力量、敏捷、耐力、智力、精神。

#### 场景: 力量属性效果
- **当** 角色拥有力量属性时
- **那么** 战士和圣骑士每1点力量增加2点攻击强度，其他职业每1点力量增加1点攻击强度
- **并且** 战士每20点力量增加1%格挡几率

#### 场景: 敏捷属性效果
- **当** 角色拥有敏捷属性时
- **那么** 盗贼和猎人每1点敏捷增加1点攻击强度和2点远程攻击强度
- **并且** 每20点敏捷增加1%暴击几率
- **并且** 每20点敏捷增加1%闪避几率
- **并且** 敏捷影响护甲值（基于职业系数）

#### 场景: 耐力属性效果
- **当** 角色拥有耐力属性时
- **那么** 每1点耐力增加10点生命值上限
- **并且** 前20点耐力不提供额外生命值（基础耐力）

#### 场景: 智力属性效果
- **当** 角色拥有智力属性时
- **那么** 每1点智力增加15点法力值上限
- **并且** 每100点智力增加1%法术暴击几率
- **并且** 智力影响武器技能提升速度

#### 场景: 精神属性效果
- **当** 角色拥有精神属性时
- **那么** 精神影响非战斗状态下的生命值和法力值回复速度
- **并且** 牧师和德鲁伊可从精神获得战斗中的法力回复

### 需求: 职业基础属性分配
系统应根据职业为角色分配不同的初始属性和成长系数。

#### 场景: 战士初始属性
- **当** 玩家创建战士职业角色时
- **那么** 角色获得高力量和耐力、中等敏捷、低智力和精神的初始属性
- **并且** 每级成长时力量和耐力获得较高加成

#### 场景: 法师初始属性
- **当** 玩家创建法师职业角色时
- **那么** 角色获得高智力和精神、低力量和耐力的初始属性
- **并且** 每级成长时智力和精神获得较高加成

#### 场景: 盗贼初始属性
- **当** 玩家创建盗贼职业角色时
- **那么** 角色获得高敏捷、中等力量和耐力、低智力和精神的初始属性
- **并且** 每级成长时敏捷获得最高加成

#### 场景: 混合职业属性
- **当** 玩家创建圣骑士、萨满或德鲁伊职业角色时
- **那么** 角色获得均衡的属性分配，便于适应多种角色定位
- **并且** 每级成长时获得较为平均的属性加成

### 需求: 派生属性计算
系统应根据基础属性计算派生战斗属性。

#### 场景: 攻击强度计算
- **当** 系统计算角色攻击强度时
- **那么** 近战攻击强度 = (等级 × 3) + 来自力量的加成 + 来自敏捷的加成(仅限部分职业)
- **并且** 远程攻击强度 = (等级 × 2) + 来自敏捷的加成

#### 场景: 暴击几率计算
- **当** 系统计算角色暴击几率时
- **那么** 物理暴击几率 = 基础暴击 + (敏捷 / 20) + 装备暴击加成
- **并且** 法术暴击几率 = 基础暴击 + (智力 / 100) + 装备法术暴击加成

#### 场景: 闪避几率计算
- **当** 系统计算角色闪避几率时
- **那么** 闪避几率 = 基础闪避(5%) + (敏捷 / 20) + 职业闪避加成 + 装备闪避加成

#### 场景: 护甲和减伤计算
- **当** 系统计算角色护甲减伤时
- **那么** 物理减伤百分比 = 护甲值 / (护甲值 + 400 + 85 × 攻击者等级)
- **并且** 护甲减伤上限为75%

### 需求: 属性上限与软硬封顶
系统应实现属性的软封顶和硬封顶机制。

#### 场景: 暴击几率封顶
- **当** 角色暴击几率达到100%时
- **那么** 额外的暴击属性不再提供收益

#### 场景: 命中率封顶
- **当** 角色攻击同级敌人时
- **那么** 需要5%命中率达到命中上限
- **并且** 攻击+3级Boss需要9%命中率达到近战上限，16%达到法术上限

#### 场景: 减伤软封顶
- **当** 护甲减伤接近上限时
- **那么** 每点护甲提供的减伤收益递减

### 需求: 属性加成来源
系统应支持多种属性加成来源的叠加。

#### 场景: 装备属性加成
- **当** 角色装备带有属性的物品时
- **那么** 装备属性直接加到角色属性上

#### 场景: Buff增益属性
- **当** 角色获得增益效果时
- **那么** Buff提供的基础属性加成与装备属性叠加
- **并且** 同类Buff通常不叠加，取最高值

#### 场景: 百分比加成计算
- **当** 角色同时拥有固定值和百分比属性加成时
- **那么** 先计算基础值+固定加成，再乘以百分比加成

#### 场景: 天赋属性加成
- **当** 角色学习提升属性的天赋时
- **那么** 天赋提供的属性加成与其他来源叠加计算

### 需求: 属性界面显示
系统应在角色面板清晰显示所有属性信息。

#### 场景: 基础属性显示
- **当** 玩家打开角色属性面板时
- **那么** 显示五大基础属性的当前值
- **并且** 用绿色标注装备和Buff带来的额外属性

#### 场景: 属性详情展开
- **当** 玩家点击或悬停某个属性时
- **那么** 显示该属性的详细效果说明和计算公式
- **并且** 显示属性来源分解（基础、装备、Buff、天赋等）

#### 场景: 派生属性显示
- **当** 玩家查看战斗属性时
- **那么** 显示攻击强度、暴击几率、命中率、闪避几率、护甲值等派生属性
- **并且** 显示属性对应的实际战斗效果（如减伤百分比）

### 需求: 属性比较功能
系统应支持装备属性对比，帮助玩家决策装备选择。

#### 场景: 装备对比显示
- **当** 玩家查看新装备时
- **那么** 显示新装备与当前装备的属性差异
- **并且** 用绿色箭头表示属性提升，红色箭头表示属性下降

#### 场景: DPS/治疗量预估
- **当** 玩家对比装备时
- **那么** 显示预估的DPS或治疗量变化（可选高级功能）
